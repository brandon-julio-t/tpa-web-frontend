<form [formGroup]="registerForm">
  <label for="email">
    Email Address
    <small
      *ngIf="
        registerForm.touched && registerForm.controls.email.errors?.required
      "
      class="error"
    >
      This field is required
    </small>
    <small
      *ngIf="registerForm.touched && registerForm.controls.email.errors?.email"
      class="error"
    >
      Wrong email format
    </small>
    <input formControlName="email" id="email" type="email" />
  </label>
  <label for="email-confirm">
    Confirm your Address
    <small
      *ngIf="
        registerForm.touched &&
        registerForm.controls.emailConfirm.errors?.required
      "
      class="error"
    >
      This field is required
    </small>
    <small
      *ngIf="
        registerForm.touched && registerForm.controls.emailConfirm.errors?.email
      "
      class="error"
    >
      Wrong email format
    </small>
    <input formControlName="emailConfirm" id="email-confirm" type="email" />
  </label>
  <label for="country">
    Country of Residence
    <small
      *ngIf="
        registerForm.touched && registerForm.controls.countryId.errors?.required
      "
      class="error"
    >
      This field is required
    </small>
    <select formControlName="countryId">
      <option
        *ngFor="let country of countries"
        [value]="country.id"
        id="country"
      >
        {{ country.name }}
      </option>
    </select>
  </label>
  <re-captcha
    (resolved)="isCaptchaPassed = true"
    siteKey="6Le6GCwaAAAAAIEc9Iw9p8PgRHEj2sTzLdE_Exrp"
  ></re-captcha>
  <small *ngIf="registerForm.touched && !isCaptchaPassed" class="error">
    Please pass this captcha first
  </small>
  <app-submit-button
    type="submit"
    class="btn btn-blue"
    [loading]="isLoading"
    (click)="onSubmit()"
  >
    Submit
  </app-submit-button>
</form>
